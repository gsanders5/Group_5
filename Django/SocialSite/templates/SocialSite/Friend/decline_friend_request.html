<script type="text/javascript">

    function declineFriendRequest(friend_request_id, uiUpdateFunction) {
         payload = {
            "csrfmiddlewaretoken": "{{ csrf_token }}",
            "friend_request_id": friend_request_id,
        }
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "{% url 'friend-request-decline' %}",
            timeout: 5000,
            data: payload,
            success: function (data) {
                if (data.response == "Friend request declined.") {

                } else if (data.response != null) {
                    alert(data.response);
                }
            },
            error: function (data){
                alert("Something went wrong: " + data);
            },
            complete: function (data){
                uiUpdateFunction();
            }
        })
    }
</script>